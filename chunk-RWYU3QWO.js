import{c as o,ib as l,tb as m,ub as h,v as s,y as p,z as c}from"./chunk-4YEZQ5FG.js";import{a as i,b as n}from"./chunk-KAT7YFEL.js";var u=class e{constructor(t){this.http=t}baseApiUrl=`${m.apiUrl}/ventas`;ventasSubject=new o([]);ventas$=this.ventasSubject.asObservable();authService=c(h);cargarVentas(){this.http.get(this.baseApiUrl).subscribe({next:t=>{let r=t.map(a=>n(i({},a),{total:Number(a.total),detalles:a.detalles??[]}));this.ventasSubject.next(r)},error:t=>{console.error("Error al obtener ventas:",t)}})}anularVenta(t){return this.http.patch(`${this.baseApiUrl}/${t}/anular`,{})}agregarVenta(t){return this.http.post(`${this.baseApiUrl}`,t,{headers:this.authService.getAuthHeaders()})}static \u0275fac=function(r){return new(r||e)(p(l))};static \u0275prov=s({token:e,factory:e.\u0275fac,providedIn:"root"})};export{u as a};
