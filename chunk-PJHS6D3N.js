import{c as o,ib as s,tb as h,ub as n,v as i,y as a}from"./chunk-4YEZQ5FG.js";var u=class r{constructor(t,e){this.http=t;this.auth=e}baseUrl=`${h.apiUrl}/notas-credito`;notasSubject=new o([]);notas$=this.notasSubject.asObservable();cargarNotas(){let t=this.auth.getAuthHeaders();console.log("Auth headers:",t),this.http.get(this.baseUrl,{headers:t}).subscribe({next:e=>this.notasSubject.next(e),error:e=>console.error("Error cargando notas",e)})}cargarNotas$(){let t=this.auth.getAuthHeaders();return this.http.get(this.baseUrl,{headers:t})}getNotasSnapshot(){return this.notasSubject.value}listarPorVenta(t){return this.http.get(`${this.baseUrl}/venta/${t}`,{headers:this.auth.getAuthHeaders()})}descargarPDF(t){return this.http.get(`${this.baseUrl}/${t}/pdf`,{headers:this.auth.getAuthHeaders(),responseType:"blob"})}generarNotaCredito(t,e){return this.http.post(`${this.baseUrl}/${t}`,{items:e},{headers:this.auth.getAuthHeaders()})}static \u0275fac=function(e){return new(e||r)(a(s),a(n))};static \u0275prov=i({token:r,factory:r.\u0275fac,providedIn:"root"})};export{u as a};
