import{c as s,ib as p,tb as n,v as a,z as u}from"./chunk-4YEZQ5FG.js";import{a as i,b as c}from"./chunk-KAT7YFEL.js";var d=class e{baseApiUrl=`${n.apiUrl}/productos`;productosSubject=new s([]);productos$=this.productosSubject.asObservable();http=u(p);cargarProductos(){this.http.get(this.baseApiUrl).subscribe({next:t=>{let b=t.map(r=>c(i({},r),{activo:r.activo??!0,categoria:r.categoria??{nombre:"-"},costoUnitario:Number(r.costoUnitario??0),precioUnitario:Number(r.precioUnitario??0),stock:Number(r.stock??0)})).sort((r,h)=>+(h.activo!==!1)-+(r.activo!==!1));this.productosSubject.next(b)},error:t=>console.error("Error al obtener productos:",t)})}getProducto(t){return this.http.get(`${this.baseApiUrl}/${t}`)}updateProducto(t,o){return this.http.put(`${this.baseApiUrl}/${t}`,o)}eliminarProducto(t){return this.http.delete(`${this.baseApiUrl}/${t}`)}agregarProducto(t){return this.http.post(this.baseApiUrl,t)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};export{d as a};
